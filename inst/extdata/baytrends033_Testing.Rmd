---
title: "R Notebook"
author: "Erik W. Leppo"
date: "`r Sys.time()`"
output: 
  html_notebook:
    toc: yes
    depth: 3
    number_sections: yes
    toc_float: no
---



# Current Version
## Install
Install the latest version of baytrends (v0.3.3) from Jon.

```{r}
install.packages("C:/Users/Erik.Leppo/OneDrive - Tetra Tech, Inc/MyDocs_OneDrive/ChesBay_R/baytrends_20171125/baytrends_0.3.3.tar.gz", repos = NULL, type = "source")
```


## GitHub
1. Unzip the tarball.
2. Add to my GitHub folder as baytrends033.
3. Then load to GitHub as v0.3.3.9001.

# Modify
Remove swmrQW and smwrStats packages.
Repackage and load to GitHub.

# smwr Packages
https://owi.usgs.gov/R/packages.html

## Install packages
Install USGS packages from GitHub.
```{r, EVAL=FALSE}
library(devtools)
install_github("USGS-R/smwrData")
install_github("USGS-R/smwrQW")
install_github("USGS-R/smwrBase")
install_github("USGS-R/smwrStats")
install_github("USGS-R/smwrGraphs")
```

## Package Dependecies
Should be able to find with "smwrQW::" but 0 references.

Only a few "smwrBase::"" references searching for "smwr"


DESCRIPTION results.

Package   |USGS Status|baytrends|Base   |Data    |Graphs |QW| Stats
----------|-----------|---------|-------|--------|-------|--|------
smwrBase  |Research   |Suggests |na     |Suggests|-      |- |-
smwrData  |Research   |-        |-      |na      |-      |- |-
smwrGraphs|SUPPORT    |Suggests |DEPENDS|Suggests|na     |- |-
smwrQW    |ORPHAN     |DEPENDS  |DEPENDS|Suggests|DEPENDS|na|DEPENDS
smwrStats |ORPHAN     |Suggests |DEPENDS|Suggests|DEPENDS|- |na

Not all packages listed on the USGS website below so used the GitHub link for each package to get status.

* https://owi.usgs.gov/R/packages.html
* https://github.com/USGS-R/smwrBase
* https://github.com/USGS-R/smwrData
* https://github.com/USGS-R/smwrGraphs
* https://github.com/USGS-R/smwrQW
* https://github.com/USGS-R/smwrStats

BayTrends DEPENDS on QW
QW DEPENDS on Base, Graphs, and STATS

smwrData is not needed.

## Functions

Find all functions in package `smwrQW`.
```{r list package functions, eval=TRUE}
library(smwrQW)
pkg.fun <- ls("package:smwrQW")
print(pkg.fun)
print(paste0("Total number of functions = ",length(pkg.fun)))
```

All functions in package `smwrStats`
```{r}
library(smwrStats)
pkg.fun <- ls("package:smwrStats")
print(pkg.fun)
print(paste0("Total number of functions = ",length(pkg.fun)))
```


Check for each function within the `baytrends033` package.

Use RStudio's "find in files" function test for presense/absens (T/F) for each function.
```{r}
pkg.fun.pa <- c(rep(FALSE,4) #17#01-04
              , rep(FALSE,4) #17 #05
              , rep(FALSE,4) #17 #09
              , rep(FALSE,4)  #13
              , rep(FALSE,4) #17
              , rep(FALSE,4) #21
              , rep(FALSE,4) #25
              , rep(FALSE,4) #29
              , rep(FALSE,4) #33
              , rep(FALSE,4) #37
              , rep(FALSE,4) #41
              , rep(FALSE,4) #45
              , rep(FALSE,4) #49
              , rep(FALSE,4) #53
              , rep(FALSE,4) #57
              , rep(FALSE,4) #61
              , rep(FALSE,4) #65
              , FALSE, FALSE, FALSE #69
              )
#
# functions that are present
print(pkg.fun.pa.names <- pkg.fun[pkg.fun.pa])

```


None of the functions from `swmrQW` show up in `baytrends033` when searching manually.


```{r}
library(pkg.fun.bt)
pkg.fun.bt <- ls("package:baytrends")
pkg.fun.bt[pkg.fun.bt %in% pkg.fun]

```

# Run Examples
Run examples for all functions in package.

```{r}
library(baytrends033)
pkg.fun <- as.vector(ls("package:baytrends033"))
print(pkg.fun)
print(paste0("Total number of functions = ",length(pkg.fun)))
#
## Examples by amount of output

# long, includes plots
example("gamDiff", package="baytrends033") #05 (lots of stuff)
example("gamTest", package="baytrends033") #07 (lots of stuff)

# long, no plots
example("analysisOrganizeData", package="baytrends033") #01
example("closeOut", package="baytrends033") #02
example("selectData", package="baytrends033") #13

# short, str
example("parameterList", package="baytrends033") #11
example("stationMasterList", package="baytrends033") #14
example("usgsGages", package="baytrends033") #15

# short, save file
example("saveDF", package="baytrends033") #12

# short, load data
example("dataCensored", package="baytrends033") #03
example("layerLukup", package="baytrends033") #08 (data only)

# help file but no examples
example("flwAveragePred", package="baytrends033") #04 (no example)
example("gamPlotDisp", package="baytrends033") #06 (no example)
example("loadData", package="baytrends033") #09
example("loadExcel", package="baytrends033") #10

```

So 15 functions.  Run "Examples".

Run all examples using devtools.

```{r, eval=FALSE}
library(devtools)
setwd("..") 
run_examples(pkg="baytrends033")
```


Go straight to index.
```{r}
help(package="baytrends033")
```

Open Vignette
```{r}
browseVignettes("baytrends033")
```

